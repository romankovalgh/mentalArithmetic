<html>
<head>
    <meta charset="utf-8">

    <!-- подключаем стили Mocha, для отображения результатов -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mocha/2.1.0/mocha.css">
    <!-- подключаем библиотеку Mocha -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mocha/2.1.0/mocha.js"></script>
    <!-- настраиваем Mocha: предстоит BDD-тестирование -->
    <script>
        mocha.setup('bdd');
    </script>

    <!-- подключаем chai -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chai/2.0.0/chai.js"></script>
    <!-- в chai есть много всего, выносим assert в глобальную область -->
    <script>
        var assert = chai.assert;
    </script>

</head>

<body>
<script>

(function() {
  var answerUserInt;
  var answerUserText;
  var expressionExample1;
  var expressionExample2;
  var getRandomInt;
  var createSummands;
  var checkAnswerUser;
  var StringToNumber;
  var answerUserSum;
  var outputResult;

</script>

<script>
    /**
     * Возвращает случайное числоMath.random()
     * в диапазоне [min, max]
     * @param {number} min
     * @param {number} max
     * @return {number} randomInt
     */
  getRandomInt = function(min, max) {
    var randomInt = min + Math.floor(0.5 *
                    (max - min + 1));
    return randomInt;
  };
</script>

<!-- в этом скрипте находятся спеки -->
<script src="test.js"></script>

<!-- в элементе с id="mocha" будут результаты тестов -->
<div id="mocha"></div>

<!-- запустить тесты! -->
<script>
    mocha.run();
</script>

<script>
    /**
     * Создает два случайных числа-слагаемые
     */
  createSummands = function() {
	expressionExample1 = getRandomInt(1, 100);
    expressionExample2 = 8;
  };

    /**
     * Выводит в диалоговом окне два слагаемых
     * предлагает ввести суму, которую пользователь
     * вычислил в уме
     * @returns {string} userAnswerText возвращает то,
     * что ввел пользователь
     */
  answerUserSum = function() {
    var userAnswerText;
	userAnswerText = prompt(expressionExample1 + ' + '
            + expressionExample2 + ' = ', '');
	return userAnswerText;
  };

    /**
     * Преобразует строку в число
     * @param {string} innerString преобразуемая строка
     * @returns {number} возвращает это число
     */
  StringToNumber = function(innerString) {
	return +innerString;
  };

    /**
     * Проверяет равны ли два числа
     * @param firstNumber
     * @param secondNumber
     * @returns {boolean} true, если равны
     */
  checkAnswerUser = function(firstNumber, secondNumber) {
	if (firstNumber === secondNumber) {
      return true;
    } else {
      return false;
    }
  };

    /**
     * Если числа равны -
     * выводит сообщение об этоь
     * @param {boolean} isCorrectAnswer=true если числа равны
     */
  outputResult = function(isCorrectAnswer) {
    if (checkAnswerUser(isCorrectAnswer,
                    expressionExample1 + expressionExample2)) {
      alert("Правильно!");
    } else {
      alert("Не правильно!");
    }
  };
  
  
  createSummands();
  
  answerUserText = answerUserSum();

  answerUserInt = StringToNumber(answerUserText);
  
  outputResult(answerInt);

  alert(expressionExample1 + expressionExample2);

  

}).call(this);


</script>
</body>
</html>